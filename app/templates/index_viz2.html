<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ metadata.title }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
  <!-- ========== Ã‰CRAN D'UPLOAD ========== -->
  <div id="uploadScreen">
    <h1>ğŸµ Visualiseur Audio Interactif - modV</h1>
    <div id="dropZone">
      <div class="icon">ğŸ¶</div>
      <div class="text">Glisse ton fichier audio ici</div>
      <div class="subtext">ou clique pour choisir un fichier</div>
    </div>
    <button class="upload-btn" id="uploadBtn">Choisir un fichier</button>
    <input id="fileInput" type="file" accept="audio/*" style="display:none">
  </div>

  <!-- ========== Ã‰CRAN VISUALISEUR ========== -->
  <div class="wrap">
    <!-- ContrÃ´les flottants -->
    <div class="floating-controls">
      <button id="playBtn" class="control-btn">â–¶</button>
      <button id="backBtn" class="control-btn">â† Retour</button>
      <button id="nextShader" class="control-btn">ğŸ¨ Style</button>
      <button id="toggleBg" class="control-btn">ğŸ‘ï¸ Fond</button>
    </div>

    <!-- Timer flottant -->
    <div class="floating-timer" id="timer">0:00 / 0:00</div>

    <div class="canvas-container">
      <canvas id="canvas"></canvas>
    </div>
  </div>

  <!-- Hidden audio element -->
  <audio id="audioEl" style="display:none" crossorigin="anonymous"></audio>

  <script type="module" src="{{ url_for('static', filename='js/main_viz2.js') }}"></script>
</body>
</html>
